{{#section "css"}}
  <link rel="stylesheet" href="/css/partials/pagination.css" />
  <link rel="stylesheet" href="/css/courses.css" />
{{/section}}

{{#section "js"}}
  <script src="/js/courses/search.js"></script>
{{/section}}

<div class="courses__header">
  <h1 class="courses__title">
    <i class="fa fa-info-circle" aria-hidden="true"></i>
    {{this.numberResult}} results for "{{this.keyWord}}"
  </h1>
</div>

<div class="courses__tool">
  <div class="courses__sort">
    <h3 class="courses__sort__label">
      <i class="fa fa-sort mr-3" aria-hidden="true"></i>
      Sort by
    </h3>

    <div class="d-flex">
      <button type="button" class="btn mr-5">
        Newest
      </button>

      <button type="button" class="btn btn--active mr-5">
        Most reviewed
      </button>

      <button type="button" class="btn mr-5">
        Highest Rated
      </button>

      <div class="btn-group">
        <button
          class="btn btn--icon dropdown-toggle"
          type="button"
          data-toggle="dropdown"
        >
          Price
        </button>

        <div class="dropdown-menu sort-by__menu">
          <a class="dropdown-item" href="#">Ascending price</a>
          <a class="dropdown-item" href="#">Descending price</a>
        </div>
      </div>
    </div>
  </div> 
</div>

<div class="courses__body">
  <div class="dropdown courses__sort--mobile">
    <button class="btn btn--primary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      <h3 class="courses__sort__label">Sort by</h3>
      <i class="fa fa-angle-down" aria-hidden="true"></i>
    </button>
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
      <a class="dropdown-item" href="#">Newest</a>
      <a class="dropdown-item" href="#">Most reviewed</a>
      <a class="dropdown-item" href="#">Highest Rated</a>
      <a class="dropdown-item" href="#">Price: Ascending</a>
      <a class="dropdown-item" href="#">Price: Descending</a>
    </div>
  </div>
  {{#each this.courses}}
    <div class="course course--horizontal {{#if bestSeller}}course--best-seller{{/if}} {{#if new}}course--new{{/if}}">
      <a href="/courses/detail?id={{id}}" class="course__link"></a>

      <div class="course__img" style="background-image: url({{image}})">
          <div class="course__best-seller-label">
            <span>bestseller</span>
          </div>
      </div>  
      
      <div class="course__body">
        <h4 class="course__title">{{name}}</h4>

        <ul class="course__category">
          {{#each this.linkCategories}}
            <li class="course__category-item">
              <a href="/courses?id={{id}}" class="course__category-link">{{name}}</a>
            </li>
          {{/each}}
        </ul>
        
        <div class="course__detail">{{tinyDescription}}
        </div>

       <div class="course__teacher">
        {{#if teacher}}
          <b>Teacher: </b>
          {{teacher}}
          {{!-- <a href="#" class="course__teacher__link">Dollar Design School</a> --}}
        {{/if}}
      </div>

        <div class="course__review">
          <div class="course__review-score">
                  {{> barStar}}
            </div>        
          <div class="course__review-number">({{numberRated}})</div>
        </div>

        <ul class="course__info">
          <li class="course__info-item">5 total hours</li>
          <li class="course__info-item">3 lectures</li>
          <li class="course__info-item">Expert level</li>
        </ul>
      </div>

      <div class="course__footer">
        <div class="course__price">
          {{#if discount}}
            <h4 class="course__price-old mr-3">
              {{format_number feeO}}
              <span class="course__price-unit">đ</span>
            </h4>
          {{/if}}
          <h4 class="course__price-new">
            {{format_number fee}}
            <span class="course__price-unit">đ</span>
          </h4>
        </div>

        <div class="course__buttons">
          <a
            name="add-cart-btn"
            id="add-cart-btn"
            class="btn btn--primary btn--icon"
            href="#"
            role="button"
          >
            <i class="fa fa-cart-plus" aria-hidden="true"></i>
          </a>

          <a
            name="buy-btn"
            id="buy-btn"
            class="btn btn--border"
            href="#"
            role="button"
          >Buy now</a>
        </div>
      </div>

      <div class="course__new-label">
        <span>news</span>
      </div>
    </div>

     <div class="card course course--mobile {{#if bestSeller}}course--best-seller{{/if}}">
            <a href="/courses/detail?id={{id}}" class="course__link"></a>

            <div class="course__img" style="background-image: url({{image}})">
              <div class="course__best-seller-label">
                <span>bestseller</span>
              </div>
            </div>
            
            <div class="card-body">
              <h4 class="course__title">{{name}}</h4>

              <ul class="course__category">
                {{#each linkCategories}}
                  <li class="course__category-item">
                    <a href="/courses?id={{id}}" class="course__category-link">{{name}}</a>
                  </li>
                {{/each}}
              </ul>

              <div class="course__teacher">
                {{#if teacher}}
                  <b>Teacher: </b>
                  {{teacher}}
                  {{!-- <a href="#" class="course__teacher__link">Dollar Design School</a> --}}
                {{/if}}
              </div>


              <div class="course__review">
                <div class="course__review-score">
                  {{> barStar}}
                </div>

                <div class="course__review-number">({{numberRated}})</div>
              </div>

              <div class="course__price">
                <h4 class="course__price-new">
                  {{format_number fee}}
                  <span class="course__price-unit">đ</span>
                </h4>
                {{#if discount}}
                   <h4 class="course__price-old">
                    {{format_number feeO}}
                  <span class="course__price-unit">đ</span>
                </h4>
                {{/if}}
              </div>
            </div>

            <div class="card-footer course__buttons">
              <a
                name="buy-btn"
                id="buy-btn"
                class="btn btn--border"
                href="#"
                role="button"
              >Buy now</a>

              <a
                name="add-cart-btn"
                id="add-cart-btn"
                class="btn btn--primary btn--icon"
                href="#"
                role="button"
              >
                <i class="fa fa-cart-plus" aria-hidden="true"></i>
              </a>
            </div>
    </div>
  {{/each}}
</div>

<a id="searchForm" action="/courses/search?keyword={{this.keyWord}}"></a>

